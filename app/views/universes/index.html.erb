<!-- TALEZ Logo - Top Left -->
<div class="page-logo">
  <%= link_to dashboard_path, class: "logo-link" do %>
    <h1 class="logo-text">TALEZ</h1>
  <% end %>
</div>

<!-- Theme Toggle - Top Right -->
<%= render 'shared/theme_toggle' %>

<div class="page-wrapper">
  <!-- Back Button -->
  <%= link_to characters_path, class: "back-button" do %>
    <i class="fas fa-arrow-left me-2"></i>Back
  <% end %>

  <div class="container py-5" data-controller="selection">
    <!-- Simple magical title -->
    <div class="magical-title-section">
      <h1 class="magical-title">
        <span class="sparkle">üåç</span> Where Will Your Story Unfold? <span class="sparkle">üåç</span>
      </h1>
    </div>

    <%= form_with url: select_universes_path, method: :post, data: { turbo: false } do |f| %>
      <%= f.hidden_field :id, value: "", data: { selection_target: "input" } %>

      <!-- Universes Showcase: 4 cards max (3 universes + 1 Create) -->
      <div class="characters-showcase">
        <div class="row g-4 justify-content-center">
          <!-- Universe 1: Placeholder -->
          <div class="col-12 col-sm-6 col-lg-3">
            <div class="character-card universe-card"
                 data-selection-target="card"
                 data-id="<%= @default_universes.first&.id || 1 %>"
                 data-action="click->selection#select">
              <div class="character-image-fancy character-placeholder">
                <i class="bi bi-globe-americas"></i>
              </div>
              <div class="character-info">
                <h5 class="character-name-fancy">Enchanted Forest</h5>
                <p class="character-description">A magical woodland filled with ancient trees and wonder!</p>
              </div>
            </div>
          </div>

          <!-- Universe 2: Placeholder -->
          <div class="col-12 col-sm-6 col-lg-3">
            <div class="character-card universe-card"
                 data-selection-target="card"
                 data-id="<%= @default_universes.second&.id || 2 %>"
                 data-action="click->selection#select">
              <div class="character-image-fancy character-placeholder">
                <i class="bi bi-rocket-takeoff"></i>
              </div>
              <div class="character-info">
                <h5 class="character-name-fancy">Galaxy Beyond</h5>
                <p class="character-description">A vast cosmos of stars, planets, and endless adventures!</p>
              </div>
            </div>
          </div>

          <!-- Universe 3: Placeholder -->
          <div class="col-12 col-sm-6 col-lg-3">
            <div class="character-card universe-card"
                 data-selection-target="card"
                 data-id="<%= @default_universes.third&.id || 3 %>"
                 data-action="click->selection#select">
              <div class="character-image-fancy character-placeholder">
                <i class="bi bi-building"></i>
              </div>
              <div class="character-info">
                <h5 class="character-name-fancy">Future City</h5>
                <p class="character-description">A bustling metropolis of technology and innovation!</p>
              </div>
            </div>
          </div>

          <!-- Create Your Own Card -->
          <div class="col-12 col-sm-6 col-lg-3">
            <%= link_to new_universe_path, class: "text-decoration-none" do %>
              <div class="create-card-fancy">
                <div class="create-icon">
                  <i class="bi bi-plus-circle"></i>
                </div>
                <h5 class="create-text">Create Your Own</h5>
                <p class="create-subtext">Design your own world!</p>
              </div>
            <% end %>
          </div>
        </div>
      </div>

      <!-- Continue Button - Fixed at Bottom -->
      <div class="continue-button-wrapper">
        <%= f.submit "Continue", class: "btn btn-sunset btn-lg", disabled: true, data: { selection_target: "submitButton" } %>
      </div>
    <% end %>
  </div>
</div>
